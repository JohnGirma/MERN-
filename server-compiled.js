(()=>{var e={860:e=>{"use strict";e.exports=require("express")},13:e=>{"use strict";e.exports=require("mongodb")}},o={};function t(n){var s=o[n];if(void 0!==s)return s.exports;var r=o[n]={exports:{}};return e[n](r,r.exports,t),r.exports}(()=>{const{MongoClient:e}=t(13),o=t(860);let n;const s=o();s.set("view engine","ejs"),s.set("views","./views"),s.use(o.static("public")),s.get("/",(async(e,o)=>{const t=await n.collection("people").find().toArray();console.log(t),o.render("home",{allPeoples:t})})),s.get("/admin",((e,o)=>{o.render("admin")})),s.get("/api/peoples",(async(e,o)=>{const t=await n.collection("people").find().toArray();o.json(t)})),async function(){const o=new e("mongodb://root:root@localhost:27017/MearApp?&authSource=admin");await o.connect(),n=o.db(),console.log("Connected successfully to server"),s.listen(3e3)}()})()})();